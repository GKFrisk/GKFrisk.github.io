<!DOCTYPE html>
<html lang="no">
<head>
  <meta charset="UTF-8" />
  <title>Dagens vits</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      height: 100vh;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: linear-gradient(135deg, #0f172a, #1e293b);
      color: #ffffff;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .card {
      max-width: 900px;
      width: 90%;
      padding: 3rem;
      border-radius: 24px;
      background: rgba(30, 41, 59, 0.95);
      box-shadow: 0 30px 60px rgba(0,0,0,0.45);
      text-align: center;
    }

    h1 {
      font-size: 3rem;
      margin-bottom: 2rem;
    }

    #joke {
      font-size: 2.2rem;
      line-height: 1.4;
    }

    .date {
      margin-top: 2.5rem;
      font-size: 1.1rem;
      opacity: 0.75;
    }

    .error {
      color: #fca5a5;
      font-size: 1.6rem;
    }
  </style>
</head>

<body>

  <div class="card">
    <h1>üòÇ Dagens vits</h1>

    <div id="joke">Laster vits ‚Ä¶</div>

    <div class="date" id="date"></div>
  </div>

  <script id="jokes-data" type="application/json">
{
  "jokes": [
    "Hvorfor tok datamusa med seg sekk? Fordi den skulle p√• klikketur!",
    "Hva sa null til √•tte? Fin belte!",
    "Hvorfor gikk boka til legen? Den hadde vondt i ryggen.",
    "Hva f√•r du hvis du krysser en sn√∏mann og en hund? Frostbitt.",
    "Hvorfor kan ikke sp√∏kelser lyve? Fordi man ser rett gjennom dem.",
    "Hva gj√∏r en fisk n√•r den blir sint? Den blir skikkelig sur!",
    "Hvorfor var datamaskinen kald? Den hadde for mange vinduer √•pne.",
    "Hva sa den ene veggen til den andre? Vi m√∏tes p√• hj√∏rnet!",
    "Hvorfor tok sykkelen pause? Den var helt utslitt.",
    "Hva slags mus liker katter best? Datamus!",
    "Hvorfor tok klokka med seg stige? Den ville opp i tiden.",
    "Hva kaller man en sovende okse? En bull-dozer.",
    "Hvorfor liker bier skole? De elsker √• summere.",
    "Hva sa koppen til kaffen? Du varmer meg.",
    "Hvorfor kan ikke elefanter bruke data? De er redd for musa.",
    "Hva gj√∏r en sn√∏mann p√• sommeren? Smelter bort!",
    "Hvorfor tok blyanten ferie? Den var spissliten.",
    "Hva sa br√∏det da det vant? Jeg er p√• topp!",
    "Hvorfor er mattebokas favorittdag l√∏rdag? Da f√•r den fri.",
    "Hva gj√∏r et tre p√• internett? Logger p√•.",
    "Hvorfor var kalenderen redd? Den hadde s√• mange dager igjen.",
    "Hva gj√∏r en klok ku? Den leser mooo-nualen.",
    "Hvorfor tok fotballen taxi? Den var utsparket.",
    "Hva sa lyset til bryteren? Du sl√•r meg av!",
    "Hvorfor var datamaskinen glad? Den fikk en oppdatering.",
    "Hva gj√∏r en bok n√•r den er ferdig? Den legger seg.",
    "Hvorfor kan ikke fisker bruke mobil? De mister dekning.",
    "Hva sa posten til brevet? Vi sees snart.",
    "Hvorfor tok kaktusen paraply? For sikkerhets skyld.",
    "Hva gj√∏r en snill robot? Den sier pip takk.",
    "Hvorfor gikk bananen til legen? Den f√∏lte seg litt skallet.",
    "Hva sa skjeen til suppa? Jeg er klar.",
    "Hvorfor er skolen et kult sted? Det er masse klasse.",
    "Hva gj√∏r en lampe p√• fest? Lyser opp stemningen.",
    "Hvorfor var stolen rolig? Den hadde god st√∏tte.",
    "Hva sa tallet til kalkulatoren? Regn med meg.",
    "Hvorfor tok m√•nen fri? Den trengte litt rom.",
    "Hva gj√∏r en klok hund? Den passer tiden.",
    "Hvorfor var boken s√• smart? Den hadde mange sider.",
    "Hva sa blyanten til viskel√¶ret? Du dekker meg.",
    "Hvorfor tok toget pause? Det var p√• sporet.",
    "Hva gj√∏r en sn√∏mann i banken? Setter inn kulde.",
    "Hvorfor er fotballspillere d√•rlige i matte? De sparker bort svarene.",
    "Hva sa pizzaen til ovnen? Jeg er klar.",
    "Hvorfor tok skyen med seg sekk? Den skulle p√• tur.",
    "Hva gj√∏r en klok katt? Den mjauer presist.",
    "Hvorfor var sengen glad? Den fikk hvile.",
    "Hva sa speilet? Jeg ser deg.",
    "Hvorfor liker planter musikk? Det hjelper dem √• gro.",
    "Hva gj√∏r en blyant n√•r den er glad? Den spisser seg.",
    "Hvorfor var fisken flink p√• skolen? Den fulgte str√∏mmen.",
    "Hva sa klokka da den ble sulten? Det er tid for mat.",
    "Hvorfor tok br√∏dristeren fri? Den var helt ristet.",
    "Hva gj√∏r en klok l√¶rer? Forklarer i tide.",
    "Hvorfor var p√¶ra stolt? Den lyste opp.",
    "Hva sa skoen til foten? Jeg passer p√• deg.",
    "Hvorfor tok fuglen bussen? Den var litt sliten i vingene.",
    "Hva gj√∏r en klok elev? Leser mellom linjene.",
    "Hvorfor var isen rolig? Den holdt hodet kaldt.",
    "Hva sa datamaskinen til brukeren? Jeg er klar.",
    "Hvorfor tok trappa heisen? Den var lei av trinnene.",
    "Hva gj√∏r en klok klokke? Tikker riktig.",
    "Hvorfor var havet vennlig? Det vinket.",
    "Hva sa pennen til papiret? La oss jobbe.",
    "Hvorfor tok stjernen pause? Den trengte litt rom.",
    "Hva gj√∏r en klok bonde? S√•r ideer.",
    "Hvorfor var melkekartongen glad? Den var lett.",
    "Hva sa boken til leseren? Bli med.",
    "Hvorfor tok skoen ferie? Den var slitt.",
    "Hva gj√∏r en klok buss? Stopper i tide.",
    "Hvorfor var sola glad? Den skinte.",
    "Hva sa d√∏ra? Kom inn.",
    "Hvorfor tok blyanten med seg venn? For st√∏tte.",
    "Hva gj√∏r en klok fisk? Sv√∏mmer med str√∏mmen.",
    "Hvorfor var fjellet stille? Det tenkte stort.",
    "Hva sa tavla? Skriv p√• meg.",
    "Hvorfor tok koppen pause? Den var full.",
    "Hva gj√∏r en klok elev p√• mandag? Starter rolig.",
    "Hvorfor var stolen trygg? Den hadde fire bein.",
    "Hva sa klokka til sekundet? F√∏lg med.",
    "Hvorfor tok skyen ferie? Den var tung.",
    "Hva gj√∏r en klok l√¶rer i friminutt? Puster.",
    "Hvorfor var blyanten modig? Den sto spisst.",
    "Hva sa boka til hylla? Takk for plassen.",
    "Hvorfor tok sykkelen buss? Den var punktert.",
    "Hva gj√∏r en klok katt p√• data? Logger av.",
    "Hvorfor var isbj√∏rnen rolig? Den tok det med is.",
    "Hva sa speilet til sola? Du blender meg.",
    "Hvorfor tok koppen med seg tallerken? For selskap.",
    "Hva gj√∏r en klok elev p√• fredag? Smiler.",
    "Hvorfor var m√•leb√•ndet langt? Det strakk seg.",
    "Hva sa stolen til bordet? Vi holder sammen.",
    "Hvorfor tok boken notater? For √• huske.",
    "Hva gj√∏r en klok robot? F√∏lger programmet.",
    "Hvorfor var ballen glad? Den rullet med.",
    "Hva sa l√¶reren til klassen? Bra jobbet.",
    "Hvorfor tok blyanten frem spisser? Forberedelse.",
    "Hva gj√∏r en klok elev p√• pr√∏ve? Leser n√∏ye.",
    "Hvorfor var skyen lett? Den slapp taket.",
    "Hva sa klokka? Tiden g√•r.",
    "Hvorfor tok bussen pause? Den stoppet.",
    "Hva gj√∏r en klok bok? √Öpner seg.",
    "Hvorfor var sengen komfortabel? Den st√∏ttet.",
    "Hva sa koppen til teen? Velkommen.",
    "Hvorfor tok fuglen pause? Den hvilte vingene.",
    "Hva gj√∏r en klok elev etter skolen? Leker.",
    "Hvorfor var blyanten nyttig? Den skrev.",
    "Hva sa datamaskinen? Klar n√•r du er.",
    "Hvorfor tok stolen plass? Den sto st√∏tt.",
    "Hva gj√∏r en klok dag? Starter rolig og slutter fint.",
    "Hvorfor var sn√∏mannen blid? Det var kaldt nok.",
    "Hva sa lysp√¶ra? N√• skj√∏nner jeg.",
    "Hvorfor tok klokka ferie? Den trengte tid.",
    "Hva gj√∏r en klok uke? Har balanse.",
    "Hvorfor var boken popul√¶r? Den var lett √• lese.",
    "Hva sa l√¶reren? Fortsett s√•nn.",
    "Hvorfor tok koppen slurk? Den var t√∏rst.",
    "Hva gj√∏r en klok elev? Sp√∏r n√•r det trengs.",
    "Hvorfor var tavla ren? Den ble visket.",
    "Hva sa blyanten? Jeg er klar.",
    "Hvorfor tok sola pause? Den gikk ned.",
    "Hva gj√∏r en klok skole? Tar vare p√• alle.",
    "Hvorfor var stolen komfortabel? Den passet.",
    "Hva sa klokka p√• slutten? Takk for i dag."
  ]
}
  </script>

  <script>
    async function loadJoke() {
      try {
        let data = null;

        // Try fetching the external JSON (works when served over HTTP)
        try {
          const response = await fetch("jokes.json", { cache: "no-store" });
          if (response.ok) {
            data = await response.json();
          } else {
            throw new Error('Fetch failed with status ' + response.status);
          }
        } catch (fetchError) {
          // Fallback: try the embedded JSON script (works when opening file://)
          const el = document.getElementById('jokes-data');
          if (el && el.textContent) {
            data = JSON.parse(el.textContent);
          } else {
            throw fetchError;
          }
        }

        if (!data || !data.jokes || data.jokes.length === 0) {
          throw new Error("Ingen vitser funnet");
        }

        const jokes = data.jokes;

        const today = new Date();
        const seed =
          today.getFullYear() * 1000 +
          today.getMonth() * 50 +
          today.getDate();

        const jokeOfTheDay = jokes[seed % jokes.length];

        document.getElementById("joke").textContent = jokeOfTheDay;
        document.getElementById("date").textContent =
          today.toLocaleDateString("no-NO", {
            weekday: "long",
            year: "numeric",
            month: "long",
            day: "numeric"
          });

      } catch (error) {
        document.getElementById("joke").innerHTML =
          "<div class='error'>Kunne ikke laste dagens vits</div>";
        console.error(error);
      }
    }

    loadJoke();
  </script>

</body>
</html>
